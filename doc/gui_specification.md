# 基本画面仕様書

## 1. 概要

本ドキュメントは、タスクスケジューラWeb GUIの基本的な設計思想とコンポーネントの仕様を定義し、UIの一貫性を保つことを目的とします。

- **フレームワーク**: Bootstrap 5
- **テンプレートエンジン**: Jinja2

## 2. 基本レイアウト

全画面は `base.html` を基盤とし、以下の共通レイアウトで構成される。

- **サイドバー (`#sidebar-wrapper`)**:
  - アプリケーションの主要機能（ダッシュボード, 実行ログ, ジョブ管理など）へのナビゲーションリンクを配置する。
- **ページコンテンツ (`#page-content-wrapper`)**:
  - 各画面のメインコンテンツを表示する領域。
  - 上部に現在の画面タイトルを表示するヘッダーを持つ。

## 3. 色彩設計

UIの配色は、Bootstrap 5 のセマンティックカラー（意味的役割を持つ色）を基本とする。

| 役割 | 色 | Bootstrapクラス | 主な用途 |
| :--- | :--- | :--- | :--- |
| **プライマリ** | 青 | `primary` | 主要なアクション、ヘッダー |
| **成功** | 緑 | `success` | 成功、完了、有効状態 |
| **危険** | 赤 | `danger` | 削除、失敗、エラー |
| **警告** | 黄 | `warning` | 注意、一時停止状態 |
| **情報** | シアン | `info` | 情報表示、実行中状態 |
| **セカンダリ**| グレー | `secondary` | 無効状態、補助的なアクション |
| **ダーク** | 黒 | `dark` | デフォルト、その他 |

## 4. コンポーネント標準

### 4.1. カード (`.card`)

- 各コンテンツセクションをまとめる基本的なコンテナとして使用する。
- `.card-header` にセクションのタイトルを、`.card-body` に内容を配置する。

### 4.2. テーブル (`.table`)

- データ一覧の表示には `.table` および `.table-striped` を使用し、視認性を高める。
- ヘッダーは `<thead>`、データ行は `<tbody>` に配置する。

### 4.3. ボタン (`.btn`)

- **サイズ**: 基本的に `.btn-sm` を使用し、UIをコンパクトに保つ。
- **色と役割**:
  - `btn-primary` (青): 「詳細」「実行」など、主要なポジティブアクション。
  - `btn-info` (シアン): 「編集」などの中立的なアクション。
  - `btn-danger` (赤): 「削除」など、破壊的なアクション。確認ダイアログを必須とする。
  - `btn-success` (緑): 「再開」など、状態を有効にするアクション。
  - `btn-secondary` (グレー): 「一時停止」など、状態を無効にするアクション。
- **配置**:
  - テーブル内のアクションボタンは、行の右端にまとめて配置する。
  - フォームの送信ボタンは、フォームの下部に配置する。

### 4.4. バッジ (`.badge`)

- ジョブやワークフローのステータス表示に `.badge` を使用する。
- ステータスと色の対応は以下に統一する。

| ステータス | 表示テキスト | Bootstrapクラス |
| :--- | :--- | :--- |
| 有効 / 実行予定 | 有効 | `bg-success` |
| 無効 | 無効 | `bg-secondary` |
| 一時停止中 | 一時停止 | `bg-warning` |
| 完了 | COMPLETED | `bg-success` |
| 失敗 | FAILED | `bg-danger` |
| 実行中 | RUNNING | `bg-info` |

## 5. データフォーマット

### 5.1. 日時 (`datetime`)

- 画面に表示する日時は、原則として `YYYY/MM/DD, HH:MM:SS` の形式に統一する。
- JavaScriptでは `new Date(isoString).toLocaleString('ja-JP')` を使用してフォーマットする。

## 6. 結論

現状のGUIは、Bootstrap 5のコンポーネントをベースに構築されており、全体的に高い統一性が保たれている。特に、色、ボタン、ステータスバッジの使い方は、セマンティックなルールに従っており、直感的な操作を助けている。

先日実施したステータス表示の統一（「有効」「無効」「一時停止」）により、ダッシュボードと管理画面間での表現の差異が解消され、一貫性がさらに向上した。

今後新しい画面や機能を追加する際も、本仕様書に記載された原則に従うことで、UI全体の統一性を維持することが推奨される。
