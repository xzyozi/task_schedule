# task_scheduleプロジェクトの戦略的再設計と近代化に関する提案書

## Part I: アーキテクチャビジョンと中核的機能強化：グラフィカルユーザーインターフェース

### 1.1 戦略的分析：Web GUIとデスクトップGUIのパラダイム

**Web GUIの利点**
- アクセシビリティとゼロインストール
- 一元管理
- プラットフォーム非依存性

**デスクトップGUIの利点**
- ネイティブ統合
- オフライン機能
- 高パフォーマンス

**推奨の根拠**
- Web GUIはアクセシビリティと一元管理に優れる。
- デスクトップ配布の複雑さを回避可能。
- ユーザー体験の近代化に直結。

### 1.2 Webフレームワークの詳細な比較と推奨

**Streamlit**
- 開発速度が圧倒的に速い
- データ中心アプリに適合
- 豊富なコンポーネント（例: `streamlit-calendar`）
- 状態管理の制約はあるが、許容可能

**Flask**
- 柔軟で低レベル制御が可能
- フロントエンド開発の負担が大きい
- 過剰設計のリスクあり

**比較表**

| 基準                | Streamlit            | Flask                  | task_scheduleへの示唆 |
|---------------------|---------------------|------------------------|------------------------|
| 開発速度            | 非常に速い           | 遅い                   | Streamlit優位 |
| UIカスタマイズ性     | 限定的               | 高い                   | Streamlitで十分 |
| 学習曲線            | 低い                 | 中程度                 | Python開発者向き |
| バックエンド複雑性   | シンプル             | 柔軟だが複雑           | Flaskは過剰設計 |
| データ可視化サポート | 組み込みで強力       | 外部ライブラリ依存     | Streamlit優位 |
| エコシステム        | データサイエンス特化 | 汎用的                 | 専用ウィジェット利用可 |

**最終推奨**
- **Streamlitを選択**  
データ中心・迅速開発・豊富なコンポーネントにより最適。

### 1.3 代替パス：デスクトップフレームワーク

- **PyQt/PySide**: 強力だが学習コスト・ライセンスの懸念
- **Tkinter**: 標準搭載だが古い外観
- **Kivy**: モバイル中心で不適合

**結論**: デスクトップフレームワークは不必要な複雑さを導入するため非推奨。

---

## Part II: 提案システムアーキテクチャと実装計画

### 2.1 システムアーキテクチャ概要

**コンポーネント**
- Streamlitフロントエンド
- コアAPIレイヤー（Pythonモジュール）
- スケジューリングエンジン（例: scheduleライブラリ）
- SQLiteデータベース
- 通知サービス（オプション）

**疎結合化の効果**
- UIとロジックの独立
- REST API拡張や別フロントエンドへの移行が容易

### 2.2 フロントエンド設計とUX

- **カレンダーダッシュボード** (`streamlit-calendar`)
  - ステータス色分け
  - 日付クリックでタスク作成
- **タスク管理フォーム**
  - 名前、コマンド、スケジュール、通知設定
- **ステータス＆履歴ビュー**
  - 実行ログ、履歴テーブル表示

### 2.3 バックエンドAPI設計

- `add_task(name, command, schedule)`
- `get_task(task_id)`
- `get_all_tasks()`
- `update_task(task_id, updates)`
- `delete_task(task_id)`
- `get_task_history(task_id)`

### 2.4 データ永続化: SQLite

**tasksテーブル**
- id, name, command, schedule_type, schedule_details, created_at, is_enabled

**task_runsテーブル**
- id, task_id, status, output, started_at, completed_at

---

## Part III: プロダクショングレードツールとしての基礎改善

### 3.1 ドキュメンテーション（README.md）
- プロジェクトタイトル & バッジ
- 概要と特徴
- スクリーンショット/GIF
- インストール方法（pip/Docker）
- 使用例（GUI/CLI）
- 貢献ガイドライン
- ライセンス

### 3.2 パッケージングと配布
- **pyproject.toml** ベース
- `setuptools` をビルドバックエンドに設定
- PyPI配布対応
- CLIエントリポイント定義

### 3.3 自動テスト
- **pytest**
- 単体テスト & 統合テスト
- インメモリSQLiteで高速テスト
- 高カバレッジを目標

### 3.4 コンテナ化（Docker）
- 再現可能な環境の提供
- 開発と本番で統一環境
- SQLite含む軽量構成
