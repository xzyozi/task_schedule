# jobs.yaml
- id: 'daily_sales_report'
  func: 'modules.scheduler.tasks.reporting.send_daily_report'
  description: 'Generates and sends the daily sales report.'
  is_enabled: true
  trigger:
    type: 'cron'
    day_of_week: 'mon-fri'
    hour: '8'
    minute: '0'
    timezone: 'Asia/Tokyo'
  args:
    - 'sales-team@example.com'
  kwargs:
    template_name: 'daily_summary.html'
    include_projections: true
  replace_existing: true
  max_instances: 1
  misfire_grace_time: 3600 # 1 hour

- id: 'api_health_check'
  func: 'modules.scheduler.tasks.monitoring.check_api_status'
  description: 'Checks the health of the main API endpoint every 5 minutes.'
  is_enabled: true
  trigger:
    type: 'interval'
    minutes: 5
  kwargs:
    api_endpoint: 'http://127.0.0.1:8000/'
    timeout_seconds: 10
  replace_existing: true
  max_instances: 1
  coalesce: true

- id: 'sample_job_1'
  func: 'modules.scheduler.tasks.sample_tasks.print_current_time'
  description: 'A sample job that prints the current time every 10 minutes.'
  is_enabled: true
  trigger:
    type: 'interval'
    minutes: 10
  replace_existing: true

- id: 'sample_job_2_paused'
  func: 'modules.scheduler.tasks.sample_tasks.print_current_time'
  description: 'A sample job that is initially disabled (paused).'
  is_enabled: false
  trigger:
    type: 'cron'
    hour: '*/1' # Every hour
  replace_existing: true